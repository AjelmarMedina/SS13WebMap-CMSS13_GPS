function bakeLayers(a,e,n){var o=a.map,t=a.pipenet,r={mapOpt:{},pipenet:{}};for(var l in o){var i=o[l].url,s=o[l].z,p=o[l].name,m=L.imageOverlay(i,n),d="Base Map";1==s&&m.addTo(e),p?d=p:o.length>1&&(d="Deck "+s),r.mapOpt[d]=m}if(console.info("done baking map"),0==t.length)return console.info("no pipenet found, skipping pipenet baking"),r;for(var l in t){var i=t[l].url,s=t[l].z,m=L.imageOverlay(i,n),d="Pipenet";""!=i&&void 0!=i&&(t.length>1&&(d="Pipenet Z:"+s),r.pipenet[d]=m)}return console.info("done baking pipenet"),r}var latOffset=0,lngOffset=0;function attachListener(a,e,n=newpoly(a)){var o=0,t=0;a.on("mousemove",r=>{var l=Math.floor(r.latlng.lat)+t,i=Math.floor(r.latlng.lng)+o,s=leaflet2ss13(l,i,e);n.setLatLngs([[l,i],[l+1,i],[l+1,i+1],[l,i+1],[l,i]]).redraw().bindTooltip(s.x+","+s.y).openTooltip().addTo(a)}),a.on("keydown",a=>{(" "==a.key||"Space"==a.code||32==a.keyCode)&&(t=parseInt(prompt("Area of Operation (X)"))-lng,o=parseInt(prompt("Are of Operation (Y)"))-lat)});let r=readquery();if(console.info("Parsing parameter cords, param:",r),r&&"x"in r&&"y"in r){let l=ss132leaflet({x:Number(r.x),y:Number(r.y)},e);a.setView(L.latLng(l.lat,l.lng)),"zoom"in r&&a.setZoom(Number(r.zoom))}else console.info("it's blank...")}function addMetadata(a,e){}function initFTL(a="E",e="norm",n=0){console.debug("FTL Translation imminent");let o=$("#layer1"),t=$("#layer2"),r=$("#layer3"),l={tg:"TG_layer",norm:"layer"};var i={};i.l1=Math.max(80+n,1),i.l2=Math.max(40+n,1),i.l3=Math.max(20+n,1),o.addClass(l[e]+"1"),t.addClass(l[e]+"2"),r.addClass(l[e]+"3"),o.css("animation-name","loop_"+a),t.css("animation-name","loop_"+a),r.css("animation-name","loop_"+a),o.animate({"animation-duration":i.l1+"s"},5e3),t.animate({"animation-duration":i.l2+"s"},5e3),r.animate({"animation-duration":i.l3+"s"},5e3),console.debug("FTL Translation successful")}function readquery(){var a={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(e,n,o)=>{a[n]=o}),a}function newpoly(a,e={fill:!1,color:"#40628a",weight:5}){let n=["Poly wanna cracker!","Check the crystal, you chucklefucks!","Stop wasting precius bytes on the webmap Adri!!","Wire the solars, you lazy bums!","Stop breaking the webmap!!!","WHO TOOK THE DAMN HARDSUITS?","The console blares, GET https://www.googletagmanager.com/gtag/js?id=UA-115958323-1 net::ERR_BLOCKED_BY_CLIENT",'CE, the clown ran "rm -rf /" on the NTNet station map server',"OH GOD ITS ABOUT TO DELAMINATE CALL THE SHUTTLE","Vlad Ymir was here"];return console.warn("Poly "+["squawks","says","yells"][Math.floor(3*Math.random())]+", "+n[Math.floor(Math.random()*n.length)]),L.polygon([],e).addTo(a)}function leaflet2ss13(a,e,n){var o={};return o.y=a+Math.abs(n[1][0])+1,o.x=e+1,o}function ss132leaflet(a,e){var n={};return n.lat=a.y-Math.abs(e[1][0])||255,n.lng=a.x-1,n}